<div class="b-example-divider"></div>

<div class="container d-flex justify-content-center align-items-center vh-20">
    <main class="form-signin bg-body rounded shadow-sm">
      <form action="/signup" method="post">
        <img class="mb-4" src="/img/logoP.png" alt="" width="100" height="100">
        <h3 class="mb-3">Registro Usuarios</h3>

        <div class="form-floating">
          <input type="text" class="form-control" id="id-nombre" placeholder="Nombre" name="nombre">
          <label for="id-nombre">Nombre</label>
        </div>

        <div class="form-floating">
          <input type="text" class="form-control" id="id-dni" placeholder="Dni" name="dni">
          <label for="id-dni">Dni</label>
        </div>

        <div class="form-floating">
          <input type="email" class="form-control" id="id-mail" placeholder="Correo electrónico" name="mail">
          <label for="id-mail">Correo electrónico</label>
        </div>

        <div class="form-floating">
          <input type="password" class="form-control" id="id-contraseña" placeholder="Contraseña" name="contraseña">
          <label for="id-contraseña">Contraseña</label>
        </div>

        <button class="w-100 btn btn-lg btn-primary btn-sm" type="submit">Registrarse</button>
        <button class="w-100 btn btn-lg btn-secondary btn-sm" onclick="window.location.href='/'; return false;">Cancelar</button>

        <p class="mt-5 mb-3 text-body-secondary" style="width: 40vh;">&copy; 2017–2024</p>
      </form>
    </main>
</div>

<!-- JavaScript para validar el formulario -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form');
      const nombreInput = document.getElementById('id-nombre');
      const dniInput = document.getElementById('id-dni');
      const emailInput = document.getElementById('id-mail');
      const contraseñaInput = document.getElementById('id-contraseña');

      form.addEventListener('submit', function (event) {
          if (!validarNombre()) {
              event.preventDefault();
              alert('Por favor, introduce un nombre válido.');
          } else if (!validarDni()) {
              event.preventDefault();
              alert('Por favor, introduce un DNI válido.');
          } else if (!validarEmail()) {
              event.preventDefault();
              alert('Por favor, introduce un correo electrónico válido.');
          } else if (!validarContraseña()) {
              event.preventDefault();
              alert('Por favor, introduce una contraseña válida.');
          }
      });

      function validarNombre() {
          // Validar si el campo nombre no está vacío
          return nombreInput.value.trim() !== '';
      }

      function validarDni() {
          // Validar si el DNI tiene un formato válido (puedes personalizar la validación según el formato esperado)
          const dniRegex = /^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKE]$/i;
          return dniRegex.test(dniInput.value);
      }

      function validarEmail() {
          // Validar si el correo electrónico tiene un formato válido
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return emailRegex.test(emailInput.value);
      }

      function validarContraseña() {
          // Validar si la contraseña tiene al menos 6 caracteres
          return contraseñaInput.value.length >= 6;
      }
  });
</script>